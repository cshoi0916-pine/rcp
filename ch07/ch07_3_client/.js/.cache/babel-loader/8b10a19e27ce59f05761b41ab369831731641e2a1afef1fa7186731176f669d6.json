{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport { SourceConnector } from '../../internals/index.js';\nimport { useDragDropManager } from '../useDragDropManager.js';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  _s();\n  const manager = useDragDropManager();\n  const connector = useMemo(() => new SourceConnector(manager.getBackend()), [manager]);\n  useIsomorphicLayoutEffect(() => {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return () => connector.disconnectDragSource();\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(() => {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return () => connector.disconnectDragPreview();\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}\n_s(useDragSourceConnector, \"Y4ygiyn13MTwSMQXLpSHvIAohRw=\", false, function () {\n  return [useDragDropManager, useIsomorphicLayoutEffect, useIsomorphicLayoutEffect];\n});","map":{"version":3,"names":["useMemo","SourceConnector","useDragDropManager","useIsomorphicLayoutEffect","useDragSourceConnector","dragSourceOptions","dragPreviewOptions","_s","manager","connector","getBackend","reconnect","disconnectDragSource","disconnectDragPreview"],"sources":["C:\\rcp\\ch06\\ch06_3\\src\\node_modules\\react-dnd\\src\\hooks\\useDrag\\useDragSourceConnector.ts"],"sourcesContent":["import { useMemo } from 'react'\n\nimport { SourceConnector } from '../../internals/index.js'\nimport type {\n\tDragPreviewOptions,\n\tDragSourceOptions,\n} from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDragSourceConnector(\n\tdragSourceOptions: DragSourceOptions | undefined,\n\tdragPreviewOptions: DragPreviewOptions | undefined,\n): SourceConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new SourceConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragSourceOptions = dragSourceOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragSource()\n\t}, [connector, dragSourceOptions])\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragPreviewOptions = dragPreviewOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragPreview()\n\t}, [connector, dragPreviewOptions])\n\treturn connector\n}\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,SAASC,eAAe,QAAQ,0BAA0B;AAK1D,SAASC,kBAAkB,QAAQ,0BAA0B;AAC7D,SAASC,yBAAyB,QAAQ,iCAAiC;AAE3E,OAAO,SAASC,sBAAsBA,CACrCC,iBAAgD,EAChDC,kBAAkD,EAChC;EAAAC,EAAA;EAClB,MAAMC,OAAO,GAAGN,kBAAkB,EAAE;EACpC,MAAMO,SAAS,GAAGT,OAAO,CACxB,MAAM,IAAIC,eAAe,CAACO,OAAO,CAACE,UAAU,EAAE,CAAC,EAC/C,CAACF,OAAO,CAAC,CACT;EACDL,yBAAyB,CAAC,MAAM;IAC/BM,SAAS,CAACJ,iBAAiB,GAAGA,iBAAiB,IAAI,IAAI;IACvDI,SAAS,CAACE,SAAS,EAAE;IACrB,OAAO,MAAMF,SAAS,CAACG,oBAAoB,EAAE;GAC7C,EAAE,CAACH,SAAS,EAAEJ,iBAAiB,CAAC,CAAC;EAClCF,yBAAyB,CAAC,MAAM;IAC/BM,SAAS,CAACH,kBAAkB,GAAGA,kBAAkB,IAAI,IAAI;IACzDG,SAAS,CAACE,SAAS,EAAE;IACrB,OAAO,MAAMF,SAAS,CAACI,qBAAqB,EAAE;GAC9C,EAAE,CAACJ,SAAS,EAAEH,kBAAkB,CAAC,CAAC;EACnC,OAAOG,SAAS;;AAChBF,EAAA,CApBeH,sBAAsB;EAAA,QAIrBF,kBAAkB,EAKlCC,yBAAyB,EAKzBA,yBAAyB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}