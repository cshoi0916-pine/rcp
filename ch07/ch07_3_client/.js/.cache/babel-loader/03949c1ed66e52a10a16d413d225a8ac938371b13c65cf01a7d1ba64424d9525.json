{"ast":null,"code":"var _s = $RefreshSig$();\nimport { registerTarget } from '../../internals/index.js';\nimport { useDragDropManager } from '../useDragDropManager.js';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js';\nimport { useAccept } from './useAccept.js';\nimport { useDropTarget } from './useDropTarget.js';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  _s();\n  const manager = useDragDropManager();\n  const dropTarget = useDropTarget(spec, monitor);\n  const accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    const [handlerId, unregister] = registerTarget(accept, dropTarget, manager);\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(a => a.toString()).join('|')]);\n}\n_s(useRegisteredDropTarget, \"GNmeYJRRELit2xyKNpJOA3cIVPY=\", false, function () {\n  return [useDragDropManager, useDropTarget, useAccept, useIsomorphicLayoutEffect];\n});","map":{"version":3,"names":["registerTarget","useDragDropManager","useIsomorphicLayoutEffect","useAccept","useDropTarget","useRegisteredDropTarget","spec","monitor","connector","_s","manager","dropTarget","accept","registerDropTarget","handlerId","unregister","receiveHandlerId","map","a","toString","join"],"sources":["C:\\rcp\\ch06\\ch06_3\\src\\node_modules\\react-dnd\\src\\hooks\\useDrop\\useRegisteredDropTarget.ts"],"sourcesContent":["import type { TargetConnector } from '../../internals/index.js'\nimport { registerTarget } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useAccept } from './useAccept.js'\nimport { useDropTarget } from './useDropTarget.js'\n\nexport function useRegisteredDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n\tconnector: TargetConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst dropTarget = useDropTarget(spec, monitor)\n\tconst accept = useAccept(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDropTarget() {\n\t\t\tconst [handlerId, unregister] = registerTarget(\n\t\t\t\taccept,\n\t\t\t\tdropTarget,\n\t\t\t\tmanager,\n\t\t\t)\n\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\treturn unregister\n\t\t},\n\t\t[\n\t\t\tmanager,\n\t\t\tmonitor,\n\t\t\tdropTarget,\n\t\t\tconnector,\n\t\t\taccept.map((a) => a.toString()).join('|'),\n\t\t],\n\t)\n}\n"],"mappings":";AACA,SAASA,cAAc,QAAQ,0BAA0B;AAGzD,SAASC,kBAAkB,QAAQ,0BAA0B;AAC7D,SAASC,yBAAyB,QAAQ,iCAAiC;AAC3E,SAASC,SAAS,QAAQ,gBAAgB;AAC1C,SAASC,aAAa,QAAQ,oBAAoB;AAElD,OAAO,SAASC,uBAAuBA,CACtCC,IAAiC,EACjCC,OAAgC,EAChCC,SAA0B,EACnB;EAAAC,EAAA;EACP,MAAMC,OAAO,GAAGT,kBAAkB,EAAE;EACpC,MAAMU,UAAU,GAAGP,aAAa,CAACE,IAAI,EAAEC,OAAO,CAAC;EAC/C,MAAMK,MAAM,GAAGT,SAAS,CAACG,IAAI,CAAC;EAE9BJ,yBAAyB,CACxB,SAASW,kBAAkBA,CAAA,EAAG;IAC7B,MAAM,CAACC,SAAS,EAAEC,UAAU,CAAC,GAAGf,cAAc,CAC7CY,MAAM,EACND,UAAU,EACVD,OAAO,CACP;IACDH,OAAO,CAACS,gBAAgB,CAACF,SAAS,CAAC;IACnCN,SAAS,CAACQ,gBAAgB,CAACF,SAAS,CAAC;IACrC,OAAOC,UAAU;GACjB,EACD,CACCL,OAAO,EACPH,OAAO,EACPI,UAAU,EACVH,SAAS,EACTI,MAAM,CAACK,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,QAAQ,EAAE,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CACzC,CACD;;AACDX,EAAA,CA5BeJ,uBAAuB;EAAA,QAKtBJ,kBAAkB,EACfG,aAAa,EACjBD,SAAS,EAExBD,yBAAyB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}