{"ast":null,"code":"var _s = $RefreshSig$();\nimport { memo, useEffect } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\nexport const DragPreviewImage = /*#__PURE__*/_s(/*#__PURE__*/memo(_c = _s(function DragPreviewImage({\n  connect,\n  src\n}) {\n  _s();\n  useEffect(() => {\n    if (typeof Image === 'undefined') return;\n    let connected = false;\n    const img = new Image();\n    img.src = src;\n    img.onload = () => {\n      connect(img);\n      connected = true;\n    };\n    return () => {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n}, \"OD7bBpZva5O2jO+Puf00hKivP7c=\")), \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c2 = DragPreviewImage;\nvar _c, _c2;\n$RefreshReg$(_c, \"DragPreviewImage$memo\");\n$RefreshReg$(_c2, \"DragPreviewImage\");","map":{"version":3,"names":["memo","useEffect","DragPreviewImage","_s","_c","connect","src","Image","connected","img","onload","_c2","$RefreshReg$"],"sources":["C:\\rcp\\ch06\\ch06_3\\src\\node_modules\\react-dnd\\src\\core\\DragPreviewImage.ts"],"sourcesContent":["import type { FC } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport type { ConnectDragPreview } from '../types/index.js'\n\nexport interface DragPreviewImageProps {\n\tconnect: ConnectDragPreview\n\tsrc: string\n}\n/**\n * A utility for rendering a drag preview image\n */\nexport const DragPreviewImage: FC<DragPreviewImageProps> = memo(\n\tfunction DragPreviewImage({ connect, src }) {\n\t\tuseEffect(() => {\n\t\t\tif (typeof Image === 'undefined') return\n\n\t\t\tlet connected = false\n\t\t\tconst img = new Image()\n\t\t\timg.src = src\n\t\t\timg.onload = () => {\n\t\t\t\tconnect(img)\n\t\t\t\tconnected = true\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tif (connected) {\n\t\t\t\t\tconnect(null)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn null\n\t},\n)\n"],"mappings":";AACA,SAASA,IAAI,EAAEC,SAAS,QAAQ,OAAO;AAQvC;;;AAGA,OAAO,MAAMC,gBAAgB,gBAAAC,EAAA,cAA8BH,IAAI,CAAAI,EAAA,GAAAD,EAAA,CAC9D,SAASD,gBAAgBA,CAAC;EAAEG,OAAO;EAAEC;AAAG,CAAE,EAAE;EAAAH,EAAA;EAC3CF,SAAS,CAAC,MAAM;IACf,IAAI,OAAOM,KAAK,KAAK,WAAW,EAAE;IAElC,IAAIC,SAAS,GAAG,KAAK;IACrB,MAAMC,GAAG,GAAG,IAAIF,KAAK,EAAE;IACvBE,GAAG,CAACH,GAAG,GAAGA,GAAG;IACbG,GAAG,CAACC,MAAM,GAAG,MAAM;MAClBL,OAAO,CAACI,GAAG,CAAC;MACZD,SAAS,GAAG,IAAI;KAChB;IACD,OAAO,MAAM;MACZ,IAAIA,SAAS,EAAE;QACdH,OAAO,CAAC,IAAI,CAAC;;KAEd;GACD,CAAC;EAEF,OAAO,IAAI;CACX,kCACD;AAAAM,GAAA,GArBYT,gBAAgB;AAAA,IAAAE,EAAA,EAAAO,GAAA;AAAAC,YAAA,CAAAR,EAAA;AAAAQ,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}