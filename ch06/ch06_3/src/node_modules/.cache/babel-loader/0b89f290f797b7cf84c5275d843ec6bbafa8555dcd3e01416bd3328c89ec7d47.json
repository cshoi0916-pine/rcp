{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as C from \"../store/cardEntities\";\nimport * as LC from \"../store/listidCardidOrders\";\nimport * as D from \"../data\";\nexport const useCards = listid => {\n  _s();\n  const dispatch = useDispatch();\n  const cards = useSelector(({\n    cardEntities,\n    listidCardidOrders\n  }) => listidCardidOrders[listid].map(uuid => cardEntities[uuid]));\n  const onPrependCard = useCallback(() => {\n    const card = D.makeRandomCard();\n    dispatch(C.addCard(card));\n    dispatch(LC.prependCardidToListid({\n      listid,\n      cardid: card.uuid\n    }));\n  }, [dispatch, listid]);\n  const onAppendCard = useCallback(() => {\n    const card = D.makeRandomCard();\n    dispatch(C.addCard(card));\n    dispatch(LC.appendCardidToListid({\n      listid,\n      cardid: card.uuid\n    }));\n  }, [dispatch, listid]);\n  const onRemoveCard = useCallback(uuid => () => {\n    dispatch(C.removeCard(uuid));\n    dispatch(LC.removeCardidFromListid({\n      listid,\n      cardid: uuid\n    }));\n  }, [dispatch, listid]);\n  return {\n    cards,\n    onPrependCard,\n    onAppendCard,\n    onRemoveCard\n  };\n};\n_s(useCards, \"HbvvU6sP963Q4zjZh9NHBtCOehM=\", false, function () {\n  return [useDispatch, useSelector];\n});","map":{"version":3,"names":["useCallback","useDispatch","useSelector","C","LC","D","useCards","listid","_s","dispatch","cards","cardEntities","listidCardidOrders","map","uuid","onPrependCard","card","makeRandomCard","addCard","prependCardidToListid","cardid","onAppendCard","appendCardidToListid","onRemoveCard","removeCard","removeCardidFromListid"],"sources":["C:/rcp/ch06/ch06_2/src/store/useCards.ts"],"sourcesContent":["import {useCallback} from \"react\"\r\nimport {createSelector} from \"@reduxjs/toolkit\"\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport type {AppState} from \"../store\"\r\nimport type {Card, UUID} from \"../store/commonTypes\"\r\nimport * as C from \"../store/cardEntities\"\r\nimport * as LC from \"../store/listidCardidOrders\"\r\nimport * as D from \"../data\"\r\n\r\nexport const useCards = (listid: UUID) => {\r\n  const dispatch = useDispatch()\r\n  const cards = useSelector<AppState, Card[]>(({cardEntities, listidCardidOrders}) =>\r\n    listidCardidOrders[listid].map(uuid => cardEntities[uuid])\r\n  )\r\n\r\n  const onPrependCard = useCallback(() => {\r\n    const card = D.makeRandomCard()\r\n    dispatch(C.addCard(card))\r\n    dispatch(LC.prependCardidToListid({listid, cardid: card.uuid}))\r\n  }, [dispatch, listid])\r\n\r\n  const onAppendCard = useCallback(() => {\r\n    const card = D.makeRandomCard()\r\n    dispatch(C.addCard(card))\r\n\r\n    dispatch(LC.appendCardidToListid({listid, cardid: card.uuid}))\r\n  }, [dispatch, listid])\r\n\r\n  const onRemoveCard = useCallback(\r\n    (uuid: UUID) => () => {\r\n      dispatch(C.removeCard(uuid))\r\n      dispatch(LC.removeCardidFromListid({listid, cardid: uuid}))\r\n    },\r\n    [dispatch, listid]\r\n  )\r\n  return {cards, onPrependCard, onAppendCard, onRemoveCard}\r\n}\r\n"],"mappings":";AAAA,SAAQA,WAAW,QAAO,OAAO;AAEjC,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;AAGpD,OAAO,KAAKC,CAAC,MAAM,uBAAuB;AAC1C,OAAO,KAAKC,EAAE,MAAM,6BAA6B;AACjD,OAAO,KAAKC,CAAC,MAAM,SAAS;AAE5B,OAAO,MAAMC,QAAQ,GAAIC,MAAY,IAAK;EAAAC,EAAA;EACxC,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,KAAK,GAAGR,WAAW,CAAmB,CAAC;IAACS,YAAY;IAAEC;EAAkB,CAAC,KAC7EA,kBAAkB,CAACL,MAAM,CAAC,CAACM,GAAG,CAACC,IAAI,IAAIH,YAAY,CAACG,IAAI,CAAC,CAC3D,CAAC;EAED,MAAMC,aAAa,GAAGf,WAAW,CAAC,MAAM;IACtC,MAAMgB,IAAI,GAAGX,CAAC,CAACY,cAAc,CAAC,CAAC;IAC/BR,QAAQ,CAACN,CAAC,CAACe,OAAO,CAACF,IAAI,CAAC,CAAC;IACzBP,QAAQ,CAACL,EAAE,CAACe,qBAAqB,CAAC;MAACZ,MAAM;MAAEa,MAAM,EAAEJ,IAAI,CAACF;IAAI,CAAC,CAAC,CAAC;EACjE,CAAC,EAAE,CAACL,QAAQ,EAAEF,MAAM,CAAC,CAAC;EAEtB,MAAMc,YAAY,GAAGrB,WAAW,CAAC,MAAM;IACrC,MAAMgB,IAAI,GAAGX,CAAC,CAACY,cAAc,CAAC,CAAC;IAC/BR,QAAQ,CAACN,CAAC,CAACe,OAAO,CAACF,IAAI,CAAC,CAAC;IAEzBP,QAAQ,CAACL,EAAE,CAACkB,oBAAoB,CAAC;MAACf,MAAM;MAAEa,MAAM,EAAEJ,IAAI,CAACF;IAAI,CAAC,CAAC,CAAC;EAChE,CAAC,EAAE,CAACL,QAAQ,EAAEF,MAAM,CAAC,CAAC;EAEtB,MAAMgB,YAAY,GAAGvB,WAAW,CAC7Bc,IAAU,IAAK,MAAM;IACpBL,QAAQ,CAACN,CAAC,CAACqB,UAAU,CAACV,IAAI,CAAC,CAAC;IAC5BL,QAAQ,CAACL,EAAE,CAACqB,sBAAsB,CAAC;MAAClB,MAAM;MAAEa,MAAM,EAAEN;IAAI,CAAC,CAAC,CAAC;EAC7D,CAAC,EACD,CAACL,QAAQ,EAAEF,MAAM,CACnB,CAAC;EACD,OAAO;IAACG,KAAK;IAAEK,aAAa;IAAEM,YAAY;IAAEE;EAAY,CAAC;AAC3D,CAAC;AAAAf,EAAA,CA3BYF,QAAQ;EAAA,QACFL,WAAW,EACdC,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}